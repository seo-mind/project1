let json_list;const name_list=new Array;$(".btn-order").click(function(e){e.preventDefault(),confirm("주문하러 바로 가기")&&(location.href="#myOrderList");let t='<div class="col mb-5">'+$(this).closest(".col").html()+"</div>";t=(t=t.replace("선택","빼기")).replace("btn-order","btn-delete"),$(".myOrderList").append(t)}),$(document).on("click",".btn-delete",function(e){e.preventDefault();let t=$(this).closest(".col").index();$(".myOrderList").find(".col").eq(t).remove()});let price="",num_price=0;$(".btn-orderMyList").click(function(e){e.preventDefault(),$.post("/checkName.do",function(e){json_list=JSON.parse(e);for(let e=0;e<json_list.length;e++){let t=new Object;t=json_list[e].name,name_list.push(t)}}),price=$(".myOrderList").find("#price").html(),num_price=0;for(let e=0;e<$(".myOrderList").find("#price").length;e++)num_price+=Number($(".myOrderList").find("#price").eq(e).html().replace(",",""));console.log(num_price),$(".price").val(num_price.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")),$("#menuModal").modal("show")}),$(".order_nm").autocomplete({source:name_list,select:function(e,t){for(let e=0;e<json_list.length;e++)t.item.value==json_list[e].name&&$(".mattermost_id").val(json_list[e].mattermostId)},focus:function(){return!1}}).blur(function(){if(""==$(".mattermost_id").val())for(let e=0;e<json_list.length;e++)$(".order_nm").val()==json_list[e].name&&$(".mattermost_id").val(json_list[e].mattermostId)}),$("#menuModal").on("shown.bs.modal",function(){$(".order_nm").autocomplete("option","appendTo","#menuModal")}),$(".btn-send").click(function(){let e=$(".mattermost_id").val();if(""==e)return void alert("mattermost 아이디를 확인해주세요");let t=$(".order_nm").val(),n=new Array;for(let r=0;r<$(".myOrderList").find("#price").length;r++){let o=new Object;o.mattermostId=e,o.name=t,o.menuNm=$(".myOrderList").find("#menu_nm").eq(r).html(),o.price=Number($(".myOrderList").find("#price").eq(r).html().replace(",","")),n.push(o)}let r={menuList:n};$.post("/sendOrder.do",{param:JSON.stringify(r)},function(e){alert(e),$(".mattermost_id").val(""),$(".order_nm").val(""),$("#menuModal").modal("toggle"),confirm("주문 확인하러 가시겠습니까?")&&(location.href="/todayOrder.do")})});